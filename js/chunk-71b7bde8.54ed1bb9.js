(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-71b7bde8","chunk-4a378c9e"],{"07ac":function(t,e,a){var n=a("23e7"),r=a("6f53").values;n({target:"Object",stat:!0},{values:function(t){return r(t)}})},"0ac6":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dialogo"},[a("div",{staticClass:"dialogo__header px-3 px-lg-4 py-2 py-lg-3"},[a("div",{staticClass:"mb-1"},[t._t("nombre-actividad",[t._v("Arrastrar y soltar")])],2),a("div",{staticClass:"h3 mb-0"},[t._t("titulo-actividad",[t._v("Titulo de actividad - Completa la conversación")])],2)]),a("div",{staticClass:"px-2 py-3 p-lg-4"},[a("div",{staticClass:"row g-0"},[a("div",{ref:"chat-"+t.uid,staticClass:"col-md-8 dialogo__chat"},t._l(t.dialogoComputed,(function(e,n){return a("div",{staticClass:"row g-0 flex-nowrap dialogo__chat__item mb-3"},[a("div",{staticClass:"col-auto dialogo__chat__item__person"},[a("img",{attrs:{src:e.personaje.img}}),a("span",{staticClass:"text-small",domProps:{innerHTML:t._s(e.personaje.nombre)}})]),a("div",{staticClass:"col dialogo__chat__item__message__container"},[a("div",{staticClass:"dialogo__chat__item__message"},[a("div",{staticClass:"row g-0 align-items-center dialogo__chat__item__message__bubble dialogo__chat__item__message__bubble--tail"},[a("div",{staticClass:"col dialogo__chat__item__message__text me-2"},[a("div",{staticClass:"dialogo__chat__item__message__text__eng h5 mb-0"},[t._l(e.textoIng,(function(n,r){return["*"===n?a("div",{key:"phrase-"+e.id+"-"+r,ref:"phrase-"+e.id,refInFor:!0,staticClass:"d-inline dialogo__chat__item__message__text__drop",class:{"is-active":t.dropId===e.id},on:{drop:function(a){return a.preventDefault(),t.onDrop(e.id)},dragenter:function(a){return a.preventDefault(),t.onDragEnter(e.id)},dragleave:function(e){return e.preventDefault(),t.onDragLeave()},dragover:function(t){t.preventDefault()}}},[t.answers[e.id]?a("span",{staticClass:"dialogo__chat__item__message__text__drop__response",domProps:{innerHTML:t._s(t.answers[e.id].palabra)}}):a("span",{staticClass:"dialogo__chat__item__message__text__drop__default"})]):a("span",{key:"phrase-"+e.id+"-"+r,domProps:{innerHTML:t._s(n)}})]}))],2),t.translations.includes(e.id)?a("div",{staticClass:"dialogo__chat__item__message__text__esp text-small"},[a("hr",{staticClass:"my-2"}),t._l(e.textoEsp,(function(e){return["*"===e?a("div",{staticClass:"d-inline dialogo__chat__item__message__text__drop"},[a("span",{staticClass:"dialogo__chat__item__message__text__drop__default"})]):a("span",{domProps:{innerHTML:t._s(e)}})]}))],2):t._e()]),a("div",{staticClass:"col-auto dialogo__chat__item__message__audio"},[a("Audio",{attrs:{audio:e.audio},on:{"audio-hover":function(e){t.mostrarIndicadorAudio=!1}}})],1)]),a("div",{staticClass:"d-flex justify-content-end me-3"},[a("button",{staticClass:"dialogo__chat__item__message__translate-btn text-small",on:{click:function(a){return t.toggleTranslate(e.id)}}},[t._v("Ver traducción")])])])]),a("div",{staticClass:"col-1"})])})),0),t._m(0),a("div",{staticClass:"col dialogo__words"},[a("div",{staticClass:"dialogo__words__content"},[a("div",{staticClass:"dialogo__words__content__explanation"},[t._t("descripcion-actividad",[t._v("Arrastra y suelta las palabras en la conversación")])],2),t.wordsToShow.length?a("div",{staticClass:"dialogo__words__content__words__container mt-md-3 mb-3 mb-md-0"},[t.touchScreen?t._l(t.wordsToShow,(function(e){return a("div",{key:"word-"+e.id,ref:"word-"+e.id,refInFor:!0,staticClass:"h5 dialogo__words__word",class:{grabbing:e.id===t.dragId},domProps:{innerHTML:t._s(e.palabra)},on:{touchstart:function(a){return a.preventDefault(),t.onTouchStart(e.id)},touchmove:function(a){return a.preventDefault(),t.onTouchMove(a,e.id)},touchend:function(a){return a.preventDefault(),t.onTouchEnd(a,e.id)},touchcancel:function(a){return a.preventDefault(),t.onTouchCancel(a,e.id)}}})})):t._l(t.wordsToShow,(function(e){return a("div",{key:"word-"+e.id,staticClass:"h5 dialogo__words__word",class:{grabbing:e.id===t.dragId},attrs:{draggable:""},domProps:{innerHTML:t._s(e.palabra)},on:{dragstart:function(a){return t.onStartDrag(e.id)},dragend:function(e){return t.onEndDrag()}}})}))],2):t._e()]),a("div",{staticClass:"dialogo__words__footer"},[t.score?a("div",{staticClass:"dialogo__score mt-3"},["approved"===t.score?a("div",{staticClass:"dialogo__score p-3 approved"},[a("div",{staticClass:"row align-items-center"},[t._m(1),a("div",{staticClass:"col"},[t._t("feedback-correcto",[t._v("¡Muy bien!")])],2)])]):t._e(),"disapproved"===t.score?a("div",{staticClass:"dialogo__score px-3 py-2 disapproved"},[a("div",{staticClass:"row align-items-center"},[t._m(2),a("div",{staticClass:"col"},[t._t("feedback-incorrecto",[t._v("Incorrecto")])],2)])]):t._e()]):t._e(),Object.values(t.answers).length===t.words.length?a("div",{staticClass:"dialogo__words__footer__actions text-end mt-3"},[null===t.score?a("button",{on:{click:t.onCheck}},[t._v("Comprobar")]):"disapproved"===t.score?a("button",{on:{click:t.reset}},[t._v("Prueba otra vez")]):t._e()]):t._e()])])])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-12 d-md-none"},[a("hr",{staticClass:"mb-3 mt-4"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-2"},[n("div",{staticClass:"dialogo__score__icon"},[n("img",{attrs:{src:a("86bd")}})])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-2"},[n("div",{staticClass:"dialogo__score__icon"},[n("img",{attrs:{src:a("3b23")}})])])}],o=(a("4de4"),a("d3b7"),a("d81d"),a("07ac"),a("caad"),a("2532"),a("7db0"),a("af8b")),i=a("a0e0"),s={name:"DialogoActividad",components:{Audio:o["default"]},mixins:[i["a"]],props:{dialogo:{type:Object,default:function(){return{}}}},data:function(){return{uid:Math.floor(Math.random()*Math.pow(10,10)),touchScreen:!1,dragId:null,dropId:null,answers:{},translations:[],score:null}},computed:{dialogoComputed:function(){return this.dialogoMerge(this.dialogo,!0)},words:function(){return this.shuffle(this.dialogoComputed.map((function(t){return{palabra:t.palabra,id:t.id}})).filter((function(t){return t.palabra})))},answerWordsIds:function(){return Object.values(this.answers).map((function(t){return t.dragId}))},wordsToShow:function(){var t=this;return this.words.filter((function(e){return!t.answerWordsIds.includes(e.id)}))}},created:function(){this.touchScreen="ontouchstart"in document.documentElement},methods:{onStartDrag:function(t){this.dragId=t},onEndDrag:function(){this.dragId=null},onDrop:function(t){var e=this;this.dragId&&(this.$set(this.answers,t,{dragId:this.dragId,dropId:t,palabra:this.words.find((function(t){return t.id===e.dragId})).palabra}),this.dropId=null)},onDragEnter:function(t){this.dropId=t},onDragLeave:function(){this.dropId=null},onTouchStart:function(t){var e=this.$refs["word-".concat(t)][0];e.classList.add("touch-drag")},onTouchMove:function(t,e){var a=this.$refs["word-".concat(e)][0],n=a.getBoundingClientRect(),r=t.touches[0];a.style.top="".concat(r.clientY-n.height/2,"px"),a.style.left="".concat(r.clientX-n.width/2,"px")},onTouchEnd:function(t,e){var a=this;if(t.changedTouches.length>1)this.resetDragElm(e);else{var n=this.$refs["chat-".concat(this.uid)],r=n.getBoundingClientRect(),o=t.changedTouches[0],i=o.clientX>r.x&&o.clientX<r.x+r.width,s=o.clientY>r.y&&o.clientY<r.y+r.height;if(i&&s){var c,d=this.words.some((function(t){var e=a.$refs["phrase-".concat(t.id)][0],n=e.getBoundingClientRect(),r=25,i=o.clientX>n.x-r&&o.clientX<n.x+n.width+r,s=o.clientY>n.y-r&&o.clientY<n.y+n.height+r;return i&&s&&(c=t.id),i&&s}));d&&this.$set(this.answers,c,{dragId:e,dropId:c,palabra:this.words.find((function(t){return t.id===e})).palabra}),this.resetDragElm(e)}else this.resetDragElm(e)}},onTouchCancel:function(t){this.resetDragElm(t)},resetDragElm:function(t){var e=this.$refs["word-".concat(t)][0];e.classList.remove("touch-drag")},toggleTranslate:function(t){this.translations.includes(t)?this.translations=this.translations.filter((function(e){return e!==t})):this.translations.push(t)},onCheck:function(){var t=Object.values(this.answers).every((function(t){return t.dragId===t.dropId}));this.score=t?"approved":"disapproved"},reset:function(){this.answers={},this.score=null},shuffle:function(t){for(var e=t.length-1;e>0;e--){var a=Math.floor(Math.random()*(e+1)),n=[t[a],t[e]];t[e]=n[0],t[a]=n[1]}return t}}},c=s,d=a("2877"),u=Object(d["a"])(c,n,r,!1,null,null,null);e["default"]=u.exports},"159b":function(t,e,a){var n=a("da84"),r=a("fdbc"),o=a("17c2"),i=a("9112");for(var s in r){var c=n[s],d=c&&c.prototype;if(d&&d.forEach!==o)try{i(d,"forEach",o)}catch(u){d.forEach=o}}},"17c2":function(t,e,a){"use strict";var n=a("b727").forEach,r=a("a640"),o=r("forEach");t.exports=o?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},3209:function(t,e,a){"use strict";e["a"]={props:{audio:{type:String,default:""}},data:function(){return{audioElement:null,audioCanPlay:!1,state:"pause"}},computed:{audioDuration:function(){if(this.audioElement){var t=this.audioElement.buffered;return t.end(t.length-1)}}},mounted:function(){var t=this;this.audioElement=this.createAudioElement(),this.audioElement.oncanplay=function(){t.audioCanPlay=!0},this.audioElement.onloadedmetadata=function(){t.audioCanPlay=!0},this.audioElement.onended=function(){t.audioElement.currentTime=0,t.state="pause"}},beforeDestroy:function(){this.audioElement.remove()},methods:{createAudioElement:function(){var t=document.createElement("audio");return t.setAttribute("preload","metadata"),t.setAttribute("src",this.audio),document.body.appendChild(t),t},play:function(){this.state="play",this.audioElement.play()},pause:function(){this.state="pause",this.audioElement.pause()},stop:function(){this.state="pause",this.audioElement.pause(),this.audioElement.currentTime=0}}}},"3b23":function(t,e,a){t.exports=a.p+"img/red-x.76179c7f.svg"},"51eb":function(t,e,a){"use strict";var n=a("825a"),r=a("c04e");t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return r(n(this),"number"!==t)}},5530:function(t,e,a){"use strict";a.d(e,"a",(function(){return c}));a("b64b"),a("a4d3"),a("4de4"),a("d3b7"),a("e439"),a("159b"),a("dbb4"),a("e01a"),a("d28b"),a("3ca3"),a("ddb0");function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}a("8172"),a("efec"),a("a9e3");function r(t,e){if("object"!==n(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var r=a.call(t,e||"default");if("object"!==n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function o(t){var e=r(t,"string");return"symbol"===n(e)?e:String(e)}function i(t,e,a){return e=o(e),e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){i(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var n=a("1d80"),r=a("5899"),o="["+r+"]",i=RegExp("^"+o+o+"*"),s=RegExp(o+o+"*$"),c=function(t){return function(e){var a=String(n(e));return 1&t&&(a=a.replace(i,"")),2&t&&(a=a.replace(s,"")),a}};t.exports={start:c(1),end:c(2),trim:c(3)}},"5ccd":function(t,e,a){t.exports=a.p+"img/audio.058779f0.svg"},"6f53":function(t,e,a){var n=a("83ab"),r=a("df75"),o=a("fc6a"),i=a("d1e7").f,s=function(t){return function(e){var a,s=o(e),c=r(s),d=c.length,u=0,l=[];while(d>u)a=c[u++],n&&!i.call(s,a)||l.push(t?[a,s[a]]:s[a]);return l}};t.exports={entries:s(!0),values:s(!1)}},7156:function(t,e,a){var n=a("861d"),r=a("d2bb");t.exports=function(t,e,a){var o,i;return r&&"function"==typeof(o=e.constructor)&&o!==a&&n(i=o.prototype)&&i!==a.prototype&&r(t,i),t}},8172:function(t,e,a){var n=a("746f");n("toPrimitive")},"86bd":function(t,e,a){t.exports=a.p+"img/green-check.f4a3fa01.svg"},a0e0:function(t,e,a){"use strict";var n=a("5530");a("d81d"),a("7db0"),a("d3b7"),a("4de4"),a("ac1f"),a("5319");e["a"]={data:function(){return{uid:Math.floor(Math.random()*Math.pow(10,10))}},methods:{dialogoMerge:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.dialogo?t.dialogo.map((function(r,o){return Object(n["a"])(Object(n["a"])({},r),{},{id:e.uid+o+1,textoIng:a?e.splitPhrase(r.textoIng):r.textoIng,textoEsp:a?e.splitPhrase(r.textoEsp):r.textoEsp,personaje:t.personajes&&t.personajes.find((function(t){return t.nombre===r.personaje}))})})):[]},splitPhrase:function(t){return t.replace(/^\s+|\s+$/g,"&nbsp;").replace("***","___*___").split("___").filter(Boolean)}}}},a9e3:function(t,e,a){"use strict";var n=a("83ab"),r=a("da84"),o=a("94ca"),i=a("6eeb"),s=a("5135"),c=a("c6b6"),d=a("7156"),u=a("c04e"),l=a("d039"),f=a("7c73"),_=a("241c").f,p=a("06cf").f,h=a("9bf2").f,g=a("58a8").trim,m="Number",v=r[m],b=v.prototype,w=c(f(b))==m,y=function(t){var e,a,n,r,o,i,s,c,d=u(t,!1);if("string"==typeof d&&d.length>2)if(d=g(d),e=d.charCodeAt(0),43===e||45===e){if(a=d.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(d.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+d}for(o=d.slice(2),i=o.length,s=0;s<i;s++)if(c=o.charCodeAt(s),c<48||c>r)return NaN;return parseInt(o,n)}return+d};if(o(m,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var C,E=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof E&&(w?l((function(){b.valueOf.call(a)})):c(a)!=m)?d(new v(y(e)),a,E):y(e)},x=n?_(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),I=0;x.length>I;I++)s(v,C=x[I])&&!s(E,C)&&h(E,C,p(v,C));E.prototype=b,b.constructor=E,i(r,m,E)}},af8b:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"audio position-relative",on:{"~mouseover":function(e){return t.$emit("audio-hover")}}},[t._t("default"),t.audioCanPlay?"pause"===t.state?n("button",{staticClass:"audio__btn",on:{click:t.play}},[n("img",{attrs:{src:a("5ccd")}})]):n("button",{staticClass:"audio__btn",on:{click:t.pause}},[n("img",{attrs:{src:a("f034")}})]):n("div",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status"}},[n("span",{staticClass:"visually-hidden"},[t._v("Loading..")])])],2)},r=[],o=a("3209"),i={name:"Audio",mixins:[o["a"]]},s=i,c=a("2877"),d=Object(c["a"])(s,n,r,!1,null,null,null);e["default"]=d.exports},b64b:function(t,e,a){var n=a("23e7"),r=a("7b0b"),o=a("df75"),i=a("d039"),s=i((function(){o(1)}));n({target:"Object",stat:!0,forced:s},{keys:function(t){return o(r(t))}})},dbb4:function(t,e,a){var n=a("23e7"),r=a("83ab"),o=a("56ef"),i=a("fc6a"),s=a("06cf"),c=a("8418");n({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(t){var e,a,n=i(t),r=s.f,d=o(n),u={},l=0;while(d.length>l)a=r(n,e=d[l++]),void 0!==a&&c(u,e,a);return u}})},e439:function(t,e,a){var n=a("23e7"),r=a("d039"),o=a("fc6a"),i=a("06cf").f,s=a("83ab"),c=r((function(){i(1)})),d=!s||c;n({target:"Object",stat:!0,forced:d,sham:!s},{getOwnPropertyDescriptor:function(t,e){return i(o(t),e)}})},efec:function(t,e,a){var n=a("9112"),r=a("51eb"),o=a("b622"),i=o("toPrimitive"),s=Date.prototype;i in s||n(s,i,r)},f034:function(t,e,a){t.exports=a.p+"img/pause.8df843e4.svg"}}]);
//# sourceMappingURL=chunk-71b7bde8.54ed1bb9.js.map